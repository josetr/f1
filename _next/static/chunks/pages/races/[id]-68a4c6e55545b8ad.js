(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[169],{4007:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/races/[id]",function(){return __webpack_require__(4195)}])},4372:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__.d(__webpack_exports__,{j6:function(){return useFetchCircuitTable},lH:function(){return useFetchConstructorLeader},Wc:function(){return useFetchConstructorStandings},Hm:function(){return useFetchConstructorTable},Wo:function(){return useFetchDriver},tk:function(){return useFetchDriverLeader},l3:function(){return useFetchDriverStandings},Ew:function(){return useFetchFastestLap},_u:function(){return useFetchLastPole},PQ:function(){return useFetchLastWinner},_:function(){return useFetchRaceResults},E4:function(){return useFetchRaces},ws:function(){return useFetchSeasonDriverStandings},NA:function(){return useFetchSeasonRaceTable},nx:function(){return useFetchSeasonTable}});var tslib_es6=__webpack_require__(655),dist=__webpack_require__(8100);function fetcher(url){return _fetcher.apply(this,arguments)}function _fetcher(){var fn;return fn=function(url){return(0,tslib_es6.__generator)(this,function(_state){switch(_state.label){case 0:return[4,fetch("".concat("https://ergast.com/api/f1","/").concat(url))];case 1:return[4,_state.sent().json()];case 2:return[2,_state.sent()]}})},(_fetcher=function(){var self1=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self1,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}).apply(this,arguments)}function useFetch(url,fn){return(0,dist.ZP)(url,function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return fetcher.apply(void 0,function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(args)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(args)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}(args)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).then(function(result){return fn(result.MRData)})})}function useFetchRaces(season,race){return useFetch("".concat(null!=season?season:"current").concat(optional(race),".json"),function(x){return x.RaceTable})}function useFetchSeasonRaceTable(season){return useFetch("".concat(season,".json"),function(x){return x.RaceTable})}function useFetchSeasonTable(){return useFetch("seasons.json?limit=1000",function(x){return x.SeasonTable})}function useFetchSeasonDriverStandings(season){return useFetch("".concat(null!=season?season:"current","/driverStandings.json"),function(x){return x.StandingsTable})}function useFetchDriverStandings(driverId){return useFetch("drivers/".concat(driverId,"/driverStandings.json"),function(x){return x.StandingsTable})}function useFetchConstructorStandings(constructor){return useFetch("constructors/".concat(constructor,"/constructorStandings.json?limit=999"),function(x){return x.StandingsTable})}function useFetchConstructorTable(constructor){return useFetch("current/constructors".concat(optional(constructor),".json"),function(x){return x.ConstructorTable})}function useFetchCircuitTable(circuit){return useFetch("current/circuits".concat(optional(circuit),".json"),function(x){return x.CircuitTable})}function useFetchDriver(driver){return useFetch("drivers/".concat(driver,".json"),function(x){return x.DriverTable})}function useFetchRaceResults(season,race){return useFetch("".concat(null!=season?season:"current","/").concat(null!=race?race:"last","/results.json"),function(x){return x.RaceTable})}function useFetchConstructorLeader(){return useFetch("current/last/constructorStandings.json?limit=1",function(x){var ref,ref1;return null===(ref1=null===(ref=x.StandingsTable.StandingsLists[0])||void 0===ref?void 0:ref.ConstructorStandings[0])||void 0===ref1?void 0:ref1.Constructor})}function useFetchDriverLeader(){return useFetch("current/last/driverStandings.json?limit=1",function(x){var ref,ref1;return null===(ref1=null===(ref=x.StandingsTable.StandingsLists[0])||void 0===ref?void 0:ref.DriverStandings[0])||void 0===ref1?void 0:ref1.Driver})}function useFetchLastPole(){return useFetch("current/last/qualifying.json?limit=1",function(x){var ref,ref1;return null===(ref1=null===(ref=x.RaceTable.Races[0])||void 0===ref?void 0:ref.QualifyingResults[0])||void 0===ref1?void 0:ref1.Driver})}function useFetchLastWinner(){return useFetch("current/last/results.json?limit=1",function(x){var ref,ref1;return null===(ref1=null===(ref=x.RaceTable.Races[0])||void 0===ref?void 0:ref.Results[0])||void 0===ref1?void 0:ref1.Driver})}function useFetchFastestLap(){return useFetch("current/last/fastest/1/results.json?limit=1",function(x){var ref,ref1;return null===(ref1=null===(ref=x.RaceTable.Races[0])||void 0===ref?void 0:ref.Results[0])||void 0===ref1?void 0:ref1.Driver})}function optional(part){return part?"/"+part:""}},5757:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return Card}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7997),_Card_module_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(740),_Card_module_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Card_module_scss__WEBPACK_IMPORTED_MODULE_1__);function Card(param){var children=param.children;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)("div",{className:_Card_module_scss__WEBPACK_IMPORTED_MODULE_1___default().card,children:children})}},9880:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return List}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7997),_List_module_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9954),_List_module_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_List_module_scss__WEBPACK_IMPORTED_MODULE_1__);function List(param){var data=param.data,renderer=param.renderer,keyExtractor=param.keyExtractor,small=param.small;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)("ul",{className:_List_module_scss__WEBPACK_IMPORTED_MODULE_1___default().list,style:{maxWidth:small?"700px":void 0},children:data.map(function(driver){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.BX)("li",{children:[" ",renderer(driver)," "]},keyExtractor(driver))})})})}},7478:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return ListDriverCard}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7997),next_link__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1664),next_link__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__),_ListDriverCard_module_scss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(706),_ListDriverCard_module_scss__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_ListDriverCard_module_scss__WEBPACK_IMPORTED_MODULE_2__);function ListDriverCard(param){var driver=param.driver,position=param.position,points=param.points,_showNationality=param.showNationality,showNationality=void 0===_showNationality||_showNationality;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.BX)("div",{className:_ListDriverCard_module_scss__WEBPACK_IMPORTED_MODULE_2___default().card,style:showNationality?{}:{padding:"8px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)("div",{className:_ListDriverCard_module_scss__WEBPACK_IMPORTED_MODULE_2___default().no,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)(next_link__WEBPACK_IMPORTED_MODULE_1___default(),{href:"/drivers/".concat(driver.driverId),passHref:!0,children:"#".concat(position)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.BX)("div",{className:"expand",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)(next_link__WEBPACK_IMPORTED_MODULE_1___default(),{href:"/drivers/".concat(driver.driverId),passHref:!0,children:"".concat(driver.givenName," ").concat(driver.familyName).concat(points?" (".concat(points,")"):"")}),showNationality&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.BX)("p",{children:["Nationality: ",driver.nationality]})]})]})}},9507:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{g:function(){return Loading}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7997),_Loading_module_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8727),_Loading_module_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Loading_module_scss__WEBPACK_IMPORTED_MODULE_1__);function Loading(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)("div",{className:_Loading_module_scss__WEBPACK_IMPORTED_MODULE_1___default()["lds-container"],children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.BX)("div",{className:_Loading_module_scss__WEBPACK_IMPORTED_MODULE_1___default()["lds-ellipsis"],children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)("div",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)("div",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)("div",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)("div",{})]})})}},278:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return LoadingError}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7997),_RetryLink__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8212);function LoadingError(param){var name=param.name,retry=param.retry;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.BX)("div",{style:{padding:"3px"},children:["Error loading ",name,". ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)(_RetryLink__WEBPACK_IMPORTED_MODULE_1__.Z,{onClick:retry})]})}},8212:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return RetryLink}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7997);function RetryLink(param){var onClick=param.onClick;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)("a",{onClick:onClick,href:"#",style:{color:"var(--primary-color)"},children:"Retry"})}},4195:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return RaceComponent}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7997),components_List__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9880),components_Loading__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9507),api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4372),next_router__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1163),components_Card__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5757),components_ListDriverCard__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7478),components_LoadingError__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(278);function RaceComponent(){var ref,router=(0,next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter)(),raceId=router.query.id,season=router.query.season,ref1=(0,api__WEBPACK_IMPORTED_MODULE_3__.E4)(season,raceId),raceInfoTable=ref1.data,loadRaceInfoTable=ref1.mutate,ref2=(0,api__WEBPACK_IMPORTED_MODULE_3__._)(season,raceId),raceResultTable=ref2.data,loadRaceResultTable=ref2.mutate,raceInfo=null==raceInfoTable?void 0:raceInfoTable.Races[0],raceResults=null===(ref=null==raceResultTable?void 0:raceResultTable.Races[0])||void 0===ref?void 0:ref.Results,fastestLap=raceResults?function(results){var fastest="99:99:99",_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=results[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var result=_step.value;result.FastestLap&&toSeconds(result.FastestLap.Time.time)<toSeconds(fastest)&&(fastest=result.FastestLap.Time.time+" (".concat(result.Driver.givenName," ").concat(result.Driver.familyName,") "))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return"99:99:99"!==fastest?fastest:void 0}(raceResults):void 0;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.BX)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.HY,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.BX)(components_Card__WEBPACK_IMPORTED_MODULE_5__.Z,{children:[raceInfo?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)("p",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)("a",{href:raceInfo.url,children:raceInfo.raceName})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)("p",{style:{color:"var(--primary-color)"},children:"Grand Prix"}),(void 0===raceInfoTable||void 0===raceResultTable)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)(components_Loading__WEBPACK_IMPORTED_MODULE_2__.g,{}),(null===raceInfoTable||null===raceResultTable)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)(components_LoadingError__WEBPACK_IMPORTED_MODULE_7__.Z,{name:"race",retry:function(){null===raceInfoTable&&loadRaceInfoTable(),null===raceResultTable&&loadRaceResultTable()}}),raceInfoTable&&!raceInfo&&"Race not found",raceInfo&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.BX)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.HY,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.BX)("p",{children:["Country: ",raceInfo.Circuit.Location.country]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.BX)("p",{children:["Locality: ",raceInfo.Circuit.Location.locality]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.BX)("p",{children:["Date: ",raceInfo.date," ",raceInfo.time]})]}),raceResultTable&&fastestLap&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.BX)("p",{children:["Fastest Lap: ",fastestLap]})]}),raceResults&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)(components_List__WEBPACK_IMPORTED_MODULE_1__.Z,{data:raceResults,renderer:function(result){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.tZ)(components_ListDriverCard__WEBPACK_IMPORTED_MODULE_6__.Z,{position:result.position,driver:result.Driver,showNationality:!1})},keyExtractor:function(result){var ref;return result.number+(null===(ref=result.Driver)||void 0===ref?void 0:ref.driverId)},small:!0})]})}function toSeconds(msx){if(0===msx.length)return 0;var parts=msx.split(":");return 60*parseInt(parts[0])+parseFloat(parts[1])}},740:function(module){module.exports={card:"Card_card__z6owP"}},9954:function(module){module.exports={list:"List_list__3a3uj"}},706:function(module){module.exports={card:"ListDriverCard_card__PcPxa",no:"ListDriverCard_no__gFium"}},8727:function(module){module.exports={"lds-container":"Loading_lds-container__7t08X","lds-ellipsis":"Loading_lds-ellipsis__YO8wB","lds-ellipsis1":"Loading_lds-ellipsis1__LzdJJ","lds-ellipsis2":"Loading_lds-ellipsis2__JTFD7","lds-ellipsis3":"Loading_lds-ellipsis3__qK3jx"}}},function(__webpack_require__){__webpack_require__.O(0,[888,179],function(){return __webpack_require__(__webpack_require__.s=4007)}),_N_E=__webpack_require__.O()}]);